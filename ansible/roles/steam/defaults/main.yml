---
# Default variables for steam role

# Steam installation
steam_user: "{{ streamin_user }}"
steam_home: "{{ streamin_home }}"
steam_config_dir: "{{ streamin_home }}/.local/share/Steam"
steam_library_dir: "{{ streamin_home }}/.local/share/Steam/steamapps/common"

# Steam runtime and dependencies
steam_packages:
    - steam
    - lib32-mesa
    - lib32-vulkan-radeon # AMD GPU support
    - lib32-vulkan-icd-loader
    - lib32-libva
    - lib32-libva-mesa-driver

# Steam launch options
steam_launch_options: "-silent -console" # Silent mode for headless
steam_enable_steam_play: true # Enable Proton for Windows games
steam_enable_shader_precache: true # Shader pre-caching

# Sunshine integration
sunshine_config_dir: "{{ streamin_home }}/.config/sunshine"
sunshine_apps_file: "{{ sunshine_config_dir }}/apps.json"

# Sunshine applications to create
# StreaminOS Philosophy: "Steam Deck at home"
# - Single app: Steam Big Picture only
# - Manual app curation via Sunshine web UI if needed
# - No overhead from automatic game detection
sunshine_resolution_script: "/home/{{ streamin_user }}/.local/bin/set-streaming-resolution.sh"
sunshine_default_resolution: "1920x1080@60"

sunshine_apps:
    - name: "Steam Big Picture"
      description: "Steam Big Picture Mode - Your gaming library"
      image_path: ""
      command: "/home/{{ streamin_user }}/.local/bin/launch-gamescope-steam.sh"
      auto_detach: true # Clean session handling when stream ends
      detached: []
      exclude_global_prep_cmd: false # Use Sunshine environment variables for resolution

# Steam first-time setup
steam_create_config_dirs: true
steam_accept_license: false # User must accept manually on first login
